<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.conan.mapper.LikeMapper">
	<select parameterType="org.conan.domain.LikeVO"
		resultType="org.conan.domain.LikeVO" id="readLike">select * from Like_Recipe
		where rid=#{rid} and userid=#{userId}
	</select>

	<select resultType="Integer" id="countLike">select sum(checklike)
		from like_recipe where rid=#{rid}
	</select>

	<select resultType="Integer" id="countLike2">select likecount from t_recipe
		where rid=#{rid}
	</select>

	<select parameterType="org.conan.domain.LikeVO"
		resultType="Integer" id="likeOrNot">select checklike from like_recipe where
		rid=#{rid} and userid = #{userId}
	</select>

	<insert parameterType="org.conan.domain.LikeVO" id="insertLike">insert into
		like_recipe values (#{rid},#{userId},1)
	</insert>

	<delete parameterType="org.conan.domain.LikeVO" id="deleteLike">delete from
		like_recipe where rid=#{rid} and userid=#{userId}
	</delete>

	<select resultType="Integer" id="getMaxRid">select max(rid) from t_recipe
	</select>

	<update parameterType="org.conan.domain.LikeVO"
		id="updateLikeCount">update T_RECIPE set likecount=#{likeSum} where rid=#{rid} </update>
</mapper>